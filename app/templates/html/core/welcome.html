{% extends "html/core/base.html" %}

{% block content %}
<section class="hero is-medium hero-bg">
    <div class="hero-body hero-bg" id="dynamicBackground">
        <div class="container content-overlay">
            <h1 class="title">{{ g.translations['Welcome'] }}</h1>
            <h2 class="subtitle">{{ g.translations['Sub1'] }}</h2>
        </div>
    </div>
</section>

<!-- Sections with Interactive Cards -->
<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column">
                <div class="card hoverable">
                    <div class="card-content">
                        <h3 class="title is-4">{{ g.translations['Ttl1'] }}</h3>
                        <p>{{ g.translations['Disc1'] }}</p>
                    </div>
                    <footer class="card-footer">
                        <a href="/service/add_new_service" class="card-footer-item button is-primary is-outlined">{{ g.translations['Btn1'] }}</a>
                    </footer>
                </div>
            </div>
            <div class="column">
                <div class="card hoverable">
                    <div class="card-content">
                        <h3 class="title is-4">{{ g.translations['Ttl2'] }}</h3>
                        <p>{{ g.translations['Disc2'] }}</p>
                    </div>
                    <footer class="card-footer">
                        <a href="/service/find" class="card-footer-item button is-primary is-outlined">{{ g.translations['Btn2'] }}</a>
                    </footer>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Special Offer Section -->
<section class="section special-offer">
    <div class="container">
        <div class="notification is-info">
            <strong>{{ g.translations['Sub2'] }}</strong> {{ g.translations['Sub3'] }}
        </div>
    </div>
</section>

<!-- How It Works Section with Smooth Scroll Animation -->
<section class="section">
    <div class="container">
        <div class="content">
            <h3>{{ g.translations['Ttl3'] }}</h3>
            <p>{{ g.translations['Disc3'] }}</p>
        </div>
    </div>
</section>

<!-- Support Me Section -->
<section class="section">
    <div class="container">
        <div class="columns is-centered">
            <div class="column is-half">
                <div class="card hoverable">
                    <div class="card-content">
                        <h3 class="title is-4">{{ g.translations['Support Me!'] }}</h3>
                    </div>
                    <div class="card-footer">
                        <a href="https://www.buymeacoffee.com/leolyy" class="card-footer-item">
                            <img src="https://img.buymeacoffee.com/button-api/?text=Buy me a tea&emoji=&slug=leolyy&button_colour=40DCA5&font_colour=ffffff&font_family=Inter&outline_colour=000000&coffee_colour=FFDD00" />
                        </a>
                        <a href="https://patreon.com/LeoLi953?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink" class="card-footer-item">
                            <img src="{{ url_for('static', filename='asset-preview.png') }}" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="columns is-centered">
            <div class="column is-half">
                <div class="card hoverable floating-card">
                    <div class="card-content">
                        <div id="mc_embed_shell">
                            <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
                            <style type="text/css">
                                #mc_embed_signup {
                                    background: #fff;
                                    clear: left;
                                    font: 14px Helvetica, Arial, sans-serif;
                                    width: 100%;
                                }
                            </style>
                            <div id="mc_embed_signup">
                                <form action="https://gmail.us13.list-manage.com/subscribe/post?u=f7a9fb3693f664f7680195a20&amp;id=0742d621c0&amp;f_id=0011ebe1f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
                                    <div id="mc_embed_signup_scroll">
                                        <h2>Subscribe To Team Null's Weekly Newsletter</h2>
                                        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                                        <div class="mc-field-group">
                                            <label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label>
                                            <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required="" value="">
                                        </div>
                                        <div id="mce-responses" class="clear foot">
                                            <div class="response" id="mce-error-response" style="display: none;"></div>
                                            <div class="response" id="mce-success-response" style="display: none;"></div>
                                        </div>
                                        <div aria-hidden="true" style="position: absolute; left: -5000px;">
                                            <input type="text" name="b_f7a9fb3693f664f7680195a20_0742d621c0" tabindex="-1" value="">
                                        </div>
                                        <div class="optionalParent">
                                            <div class="clear foot">
                                                <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe">
                                                <p style="margin: 0px auto;">
                                                    <a href="http://eepurl.com/iTbuE-" title="Mailchimp - email marketing made easy and fun">
                                                        <span style="display: inline-block; background-color: transparent; border-radius: 4px;">
                                                            <img class="refferal_badge" src="https://digitalasset.intuit.com/render/content/dam/intuit/mc-fe/en_us/images/intuit-mc-rewards-text-dark.svg" alt="Intuit Mailchimp" style="width: 220px; height: 40px; display: flex; padding: 2px 0px; justify-content: center; align-items: center;">
                                                        </span>
                                                    </a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
                            <script type="text/javascript">
                                (function($) {
                                    window.fnames = new Array();
                                    window.ftypes = new Array();
                                    fnames[0] = 'EMAIL';
                                    ftypes[0] = 'email';
                                    fnames[1] = 'FNAME';
                                    ftypes[1] = 'text';
                                    fnames[2] = 'LNAME';
                                    ftypes[2] = 'text';
                                    fnames[3] = 'ADDRESS';
                                    ftypes[3] = 'address';
                                    fnames[4] = 'PHONE';
                                    ftypes[4] = 'phone';
                                    fnames[5] = 'BIRTHDAY';
                                    ftypes[5] = 'birthday';
                                }(jQuery));
                                var $mcj = jQuery.noConflict(true);
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="columns is-centered">
            <div class="column is-half">
                <div class="card hoverable floating-card discord-widget-card">
                    <div class="card-content">
                        <h1>Join The Official Discord Server for More Supporting Information and Previews to Future Updates</h1>
                        <iframe
                                src="https://discord.com/widget?id=1261190334537400382&theme=dark"
                                width="100%" height="500" allowtransparency="true"
                                frameborder="0" sandbox="
                                    allow-popups
                                    allow-popups-to-escape-sandbox
                                    allow-same-origin
                                    allow-scripts
                                ">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="https://teamnull1.statuspage.io/embed/script.js"></script>
<!-- Tawk.to Script Section -->
<script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
        var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
        s1.async=true;
        s1.src='https://embed.tawk.to/667183ec981b6c56477e77df/1i0lmmldb';
        s1.charset='UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
    })();
</script>

<style>
    /* Floating Cards */
    .floating-card {
        margin-top: 2em;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        border-radius: 15px;
    }

    /* Hoverable Cards */
    .hoverable {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .hoverable:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    /* Special Offer Section */
    .special-offer {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        text-align: center;
        padding: 2em;
        border-radius: 15px;
    }

    /* Smooth Scroll Animation */
    .section {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .section.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Prevent multiple scroll bars */
    html, body {
        overflow-x: hidden;
        overflow-y: auto;
        height: 100%;
        margin: 0;
        padding: 0;
    }

    /* Hero Section */
    .hero, .hero-body {
        min-height: 100vh;
    }

    /* Firework effect */
    #fireworkCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
    }

    /* Discord Widget Card */
    .discord-widget-card {
        background-color: #2c2f33;
        color: white;
        border-radius: 15px;
    }
    .discord-widget-card h1 {
        color: #ffffff;
        margin-bottom: 1em;
    }
    .discord-widget-card iframe {
        border-radius: 15px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sections = document.querySelectorAll('.section');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            observer.observe(section);
        });

        // Event listener for fireworks on button click
        document.querySelectorAll('.button').forEach(button => {
            button.addEventListener('click', function (event) {
                const rect = button.getBoundingClientRect();
                createFirework(rect.left + rect.width / 2, rect.top + rect.height / 2, ['#ff0000', '#ffff00', '#00ff00', '#0000ff']);
            });
        });

        // Change background image based on the date
        const today = new Date();
        const dateKey = `${today.getMonth() + 1}-${today.getDate()}`;
        const backgrounds = {
            '3-24': '/static/images/endtb.jpeg', // Example: March 24 is End TB Day
            // Add more dates and corresponding background images here
        };

        if (backgrounds[dateKey]) {
            document.getElementById('dynamicBackground').style.backgroundImage = `url(${backgrounds[dateKey]})`;
        }
    });

    // Firework effect
    function createFirework(x, y, colors) {
        const canvas = document.getElementById('fireworkCanvas');
        const ctx = canvas.getContext('2d');

        const particles = [];
        const particleCount = 100;

        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: x,
                y: y,
                color: colors[Math.floor(Math.random() * colors.length)],
                radius: Math.random() * 2 + 1,
                speed: Math.random() * 5 + 1,
                angle: Math.random() * 2 * Math.PI,
                opacity: 1
            });
        }

        function drawParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.opacity;
                ctx.fill();
                p.x += p.speed * Math.cos(p.angle);
                p.y += p.speed * Math.sin(p.angle);
                p.opacity -= 0.02;
            });
            particles.filter(p => p.opacity > 0);
            if (particles.length > 0) {
                requestAnimationFrame(drawParticles);
            }
        }
        drawParticles();
    }
</script>

<canvas id="fireworkCanvas"></canvas>
{% endblock %}